{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DashboardComponent = class DashboardComponent {\n  constructor(pokemonService) {\n    this.pokemonService = pokemonService;\n    this.pokemon = [];\n    this.pokemonFiltered = [];\n    this.limitItemOnPage = 18;\n    this.allIds = [];\n  }\n\n  ngOnInit() {\n    this.getTotalNumberOfPokemon();\n    setTimeout(() => {\n      this.filterPokemonByType('all');\n    }, 1000);\n  }\n\n  filterPokemonByType(pokeType) {\n    this.keyword = pokeType;\n    const promises = [];\n\n    for (let i = 1; i <= this.totalPokemon; i++) {\n      const url = `https://pokeapi.co/api/v2/pokemon/${i}`;\n      promises.push(fetch(url).then(res => res.json()));\n    }\n\n    Promise.all(promises).then(pokemon => {\n      let allPokemon = pokemon.map(result => ({\n        type: result.types.map(type => type.type.name).join(', ').split(', '),\n        id: result.id,\n        name: result.name,\n        sprites: result.sprites\n      })).sort((a, b) => a.id > b.id ? 1 : -1);\n      let nonFilteredPokemon = allPokemon.filter(mons => mons.type);\n      let filteredPokemonsByType = allPokemon.filter(mon => mon.type.includes(pokeType));\n\n      if (filteredPokemonsByType != nonFilteredPokemon) {\n        this.pokemonFiltered = filteredPokemonsByType;\n        this.pokemon = this.pokemonFiltered;\n\n        if (this.keyword === 'all' || '' || null || undefined) {\n          this.pokemonFiltered = nonFilteredPokemon;\n          this.pokemon = this.pokemonFiltered;\n        }\n      }\n    });\n    this.page = 1;\n  }\n\n  getTotalNumberOfPokemon() {\n    this.pokemonService.getNumberOfPokemon().subscribe(response => {\n      this.totalPokemon = response.count;\n    });\n  }\n\n};\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})], DashboardComponent);\nexport { DashboardComponent };","map":null,"metadata":{},"sourceType":"module"}